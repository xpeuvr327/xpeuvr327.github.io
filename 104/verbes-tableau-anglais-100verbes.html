<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>English Verb Training</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #333;
            color: #f9f9f9;
        }
        h1 {
            margin: 12px;
            font-size: 1.8em;
            text-align: center;
            color: #fbfbfb;
        }
        table {
            display: block;
            overflow-x: auto;
            margin: 20px auto;
            border-collapse: collapse;
            border: 1px solid #f2f2f2;
            box-shadow: 0 2px 5px rgba(0, 0, 0, .1);
        }
        td, th {
            border: 1px solid #f2f2f2;
            padding: 12px;
            font-size: .9em;
            text-align: center;
        }
        th {
            background-color: #444;
            color: #fff;
        }
        input[type="text"] {
            background-color: #222;
            padding: 8px;
            font-size: 1em;
            border: 1px solid #0c0c0c;
            border-radius: 5px;
            box-sizing: border-box;
            color: #f9f9f9;
        }
        .correct {
            background-color: #00ff3c;
            border-color: #c3e6cb;
            color: #00ff3c;
        }
        .incorrect {
            background-color: #ff0015;
            border-color: #f5c6cb;
        }
        .correction {
            font-size: .8em;
            color: #b71c1c;
        }
        button {
            padding: 10px 20px;
            font-size: 1em;
            background-color: #3700ff9f;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color .3s;
        }
        button:hover {
            background-color: #3700ff9f;
        }
        @media (max-width: 600px) {
            table, td, th {
                font-size: .8em;
            }
            h1 {
                font-size: 1.5em;
            }
            button {
                width: 8.5em;
                max-width: 300px;
            }
        }
        .container {
            max-width: 100%;
            margin: 0 auto;
            box-sizing: border-box;
        }
    </style>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YQNZ0VLGHJ"></script>
<script>
    function gtag() {
        dataLayer.push(arguments);
    }
    window.dataLayer = window.dataLayer || [], gtag("js", new Date), gtag("config", "G-YQNZ0VLGHJ");
</script>
<body>
    <h1>English Verb Training</h1>
    <h2>&copy;2025 Pb</h2>
    <p>
        <button onclick="startTraining()">Start</button>
        with <input id="nb2verbes" type="number" style="width:2em" min="2" value="5" onchange="startTraining()"> verbs
        <select id="type2verbes" onchange="startTraining()">
            <option value="">Random</option>
            <option value="regular">Regular</option>
            <option value="irregular">Irregular</option>
        </select>
    </p>
    <div class="container">
        <table id="verbTable">
            <thead>
                <tr>
                    <th>Verb (English)</th>
                    <th>Pronoun</th>
                    <th>Present</th>
                    <th>Past</th>
                    <th>Past Participle</th>
                    <th>French</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <button onclick="checkAnswers()">Check Answers</button><br>
    <button onclick="history.back()">Back to Home</button><br>
    <script>
        document.addEventListener("DOMContentLoaded", (event) => {
            startTraining();
        });

        const pronouns = ["I", "you", "he/she/it", "we", "you", "they"];
        const have = ["have", "have", "has", "have", "have", "have"];
        const be = ["am", "are", "is", "are", "are", "are"];
        const reflectors = ["myself", "yourself", "himself/herself/itself", "ourselves", "yourselves", "themselves"];

        const verbs = [
            {
                "english": "be",
                "prs": ["am", "are", "is", "are", "are", "are"],
                "prt": ["was", "were", "was", "were", "were", "were"],
                "prk": "been",
                "frtrad": "être",
                "features": {
                    "aux": "be"
                }
            },
            {
                "english": "beat",
                "prs": ["beat", "beat", "beats", "beat", "beat", "beat"],
                "prt": ["beat", "beat", "beat", "beat", "beat", "beat"],
                "prk": "beaten",
                "frtrad": "battre"
            },
            {
                "english": "become",
                "prs": ["become", "become", "becomes", "become", "become", "become"],
                "prt": ["became", "became", "became", "became", "became", "became"],
                "prk": "become",
                "frtrad": "devenir"
            },
            {
                "english": "begin",
                "prs": ["begin", "begin", "begins", "begin", "begin", "begin"],
                "prt": ["began", "began", "began", "began", "began", "began"],
                "prk": "begun",
                "frtrad": "commencer"
            },
            {
                "english": "bend",
                "prs": ["bend", "bend", "bends", "bend", "bend", "bend"],
                "prt": ["bent", "bent", "bent", "bent", "bent", "bent"],
                "prk": "bent",
                "frtrad": "courber, pencher"
            },
            {
                "english": "bet",
                "prs": ["bet", "bet", "bets", "bet", "bet", "bet"],
                "prt": ["bet", "bet", "bet", "bet", "bet", "bet"],
                "prk": "bet",
                "frtrad": "parier"
            },
            {
                "english": "bite",
                "prs": ["bite", "bite", "bites", "bite", "bite", "bite"],
                "prt": ["bit", "bit", "bit", "bit", "bit", "bit"],
                "prk": "bitten",
                "frtrad": "mordre"
            },
            {
                "english": "bleed",
                "prs": ["bleed", "bleed", "bleeds", "bleed", "bleed", "bleed"],
                "prt": ["bled", "bled", "bled", "bled", "bled", "bled"],
                "prk": "bled",
                "frtrad": "saigner"
            },
            {
                "english": "blow",
                "prs": ["blow", "blow", "blows", "blow", "blow", "blow"],
                "prt": ["blew", "blew", "blew", "blew", "blew", "blew"],
                "prk": "blown",
                "frtrad": "souffler (vent)"
            },
            {
                "english": "break",
                "prs": ["break", "break", "breaks", "break", "break", "break"],
                "prt": ["broke", "broke", "broke", "broke", "broke", "broke"],
                "prk": "broken",
                "frtrad": "casser"
            },
            {
                "english": "bring",
                "prs": ["bring", "bring", "brings", "bring", "bring", "bring"],
                "prt": ["brought", "brought", "brought", "brought", "brought", "brought"],
                "prk": "brought",
                "frtrad": "amener, apporter"
            },
            {
                "english": "build",
                "prs": ["build", "build", "builds", "build", "build", "build"],
                "prt": ["built", "built", "built", "built", "built", "built"],
                "prk": "built",
                "frtrad": "construire"
            },
            {
                "english": "burst",
                "prs": ["burst", "burst", "bursts", "burst", "burst", "burst"],
                "prt": ["burst", "burst", "burst", "burst", "burst", "burst"],
                "prk": "burst",
                "frtrad": "éclater"
            },
            {
                "english": "buy",
                "prs": ["buy", "buy", "buys", "buy", "buy", "buy"],
                "prt": ["bought", "bought", "bought", "bought", "bought", "bought"],
                "prk": "bought",
                "frtrad": "acheter"
            },
            {
                "english": "catch",
                "prs": ["catch", "catch", "catches", "catch", "catch", "catch"],
                "prt": ["caught", "caught", "caught", "caught", "caught", "caught"],
                "prk": "caught",
                "frtrad": "attraper"
            },
            {
                "english": "choose",
                "prs": ["choose", "choose", "chooses", "choose", "choose", "choose"],
                "prt": ["chose", "chose", "chose", "chose", "chose", "chose"],
                "prk": "chosen",
                "frtrad": "choisir"
            },
            {
                "english": "come",
                "prs": ["come", "come", "comes", "come", "come", "come"],
                "prt": ["came", "came", "came", "came", "came", "came"],
                "prk": "come",
                "frtrad": "venir"
            },
            {
                "english": "cost",
                "prs": ["cost", "cost", "costs", "cost", "cost", "cost"],
                "prt": ["cost", "cost", "cost", "cost", "cost", "cost"],
                "prk": "cost",
                "frtrad": "coûter"
            },
            {
                "english": "cut",
                "prs": ["cut", "cut", "cuts", "cut", "cut", "cut"],
                "prt": ["cut", "cut", "cut", "cut", "cut", "cut"],
                "prk": "cut",
                "frtrad": "couper"
            },
            {
                "english": "dig",
                "prs": ["dig", "dig", "digs", "dig", "dig", "dig"],
                "prt": ["dug", "dug", "dug", "dug", "dug", "dug"],
                "prk": "dug",
                "frtrad": "creuser"
            },
            {
                "english": "do",
                "prs": ["do", "do", "does", "do", "do", "do"],
                "prt": ["did", "did", "did", "did", "did", "did"],
                "prk": "done",
                "frtrad": "faire"
            },
            {
                "english": "draw",
                "prs": ["draw", "draw", "draws", "draw", "draw", "draw"],
                "prt": ["drew", "drew", "drew", "drew", "drew", "drew"],
                "prk": "drawn",
                "frtrad": "dessiner, tirer"
            },
            {
                "english": "drink",
                "prs": ["drink", "drink", "drinks", "drink", "drink", "drink"],
                "prt": ["drank", "drank", "drank", "drank", "drank", "drank"],
                "prk": "drunk",
                "frtrad": "boire"
            },
            {
                "english": "drive",
                "prs": ["drive", "drive", "drives", "drive", "drive", "drive"],
                "prt": ["drove", "drove", "drove", "drove", "drove", "drove"],
                "prk": "driven",
                "frtrad": "conduire, rouler"
            },
            {
                "english": "eat",
                "prs": ["eat", "eat", "eats", "eat", "eat", "eat"],
                "prt": ["ate", "ate", "ate", "ate", "ate", "ate"],
                "prk": "eaten",
                "frtrad": "manger"
            },
            {
                "english": "fall",
                "prs": ["fall", "fall", "falls", "fall", "fall", "fall"],
                "prt": ["fell", "fell", "fell", "fell", "fell", "fell"],
                "prk": "fallen",
                "frtrad": "tomber"
            },
            {
                "english": "feed",
                "prs": ["feed", "feed", "feeds", "feed", "feed", "feed"],
                "prt": ["fed", "fed", "fed", "fed", "fed", "fed"],
                "prk": "fed",
                "frtrad": "(se) nourrir"
            },
            {
                "english": "feel",
                "prs": ["feel", "feel", "feels", "feel", "feel", "feel"],
                "prt": ["felt", "felt", "felt", "felt", "felt", "felt"],
                "prk": "felt",
                "frtrad": "(se) sentir, éprouver"
            },
            {
                "english": "fight",
                "prs": ["fight", "fight", "fights", "fight", "fight", "fight"],
                "prt": ["fought", "fought", "fought", "fought", "fought", "fought"],
                "prk": "fought",
                "frtrad": "se battre, combattre"
            },
            {
                "english": "find",
                "prs": ["find", "find", "finds", "find", "find", "find"],
                "prt": ["found", "found", "found", "found", "found", "found"],
                "prk": "found",
                "frtrad": "trouver"
            },
            {
                "english": "fly",
                "prs": ["fly", "fly", "flies", "fly", "fly", "fly"],
                "prt": ["flew", "flew", "flew", "flew", "flew", "flew"],
                "prk": "flown",
                "frtrad": "voler (ailes)"
            },
            {
                "english": "forget",
                "prs": ["forget", "forget", "forgets", "forget", "forget", "forget"],
                "prt": ["forgot", "forgot", "forgot", "forgot", "forgot", "forgot"],
                "prk": "forgotten",
                "frtrad": "oublier"
            },
            {
                "english": "forgive",
                "prs": ["forgive", "forgive", "forgives", "forgive", "forgive", "forgive"],
                "prt": ["forgave", "forgave", "forgave", "forgave", "forgave", "forgave"],
                "prk": "forgiven",
                "frtrad": "pardonner"
            },
            {
                "english": "freeze",
                "prs": ["freeze", "freeze", "freezes", "freeze", "freeze", "freeze"],
                "prt": ["froze", "froze", "froze", "froze", "froze", "froze"],
                "prk": "frozen",
                "frtrad": "geler"
            },
            {
                "english": "get",
                "prs": ["get", "get", "gets", "get", "get", "get"],
                "prt": ["got", "got", "got", "got", "got", "got"],
                "prk": "got",
                "frtrad": "obtenir, devenir, recevoir"
            },
            {
                "english": "give",
                "prs": ["give", "give", "gives", "give", "give", "give"],
                "prt": ["gave", "gave", "gave", "gave", "gave", "gave"],
                "prk": "given",
                "frtrad": "donner"
            },
            {
                "english": "go",
                "prs": ["go", "go", "goes", "go", "go", "go"],
                "prt": ["went", "went", "went", "went", "went", "went"],
                "prk": "gone",
                "frtrad": "aller"
            },
            {
                "english": "grow",
                "prs": ["grow", "grow", "grows", "grow", "grow", "grow"],
                "prt": ["grew", "grew", "grew", "grew", "grew", "grew"],
                "prk": "grown",
                "frtrad": "grandir, croître"
            },
            {
                "english": "hang",
                "prs": ["hang", "hang", "hangs", "hang", "hang", "hang"],
                "prt": ["hung", "hung", "hung", "hung", "hung", "hung"],
                "prk": "hung",
                "frtrad": "accrocher, suspendre"
            },
            {
                "english": "have",
                "prs": ["have", "have", "has", "have", "have", "have"],
                "prt": ["had", "had", "had", "had", "had", "had"],
                "prk": "had",
                "frtrad": "avoir"
            },
            {
                "english": "hear",
                "prs": ["hear", "hear", "hears", "hear", "hear", "hear"],
                "prt": ["heard", "heard", "heard", "heard", "heard", "heard"],
                "prk": "heard",
                "frtrad": "entendre"
            },
            {
                "english": "hide",
                "prs": ["hide", "hide", "hides", "hide", "hide", "hide"],
                "prt": ["hid", "hid", "hid", "hid", "hid", "hid"],
                "prk": "hidden",
                "frtrad": "(se) cacher"
            },
            {
                "english": "hit",
                "prs": ["hit", "hit", "hits", "hit", "hit", "hit"],
                "prt": ["hit", "hit", "hit", "hit", "hit", "hit"],
                "prk": "hit",
                "frtrad": "frapper"
            },
            {
                "english": "hold",
                "prs": ["hold", "hold", "holds", "hold", "hold", "hold"],
                "prt": ["held", "held", "held", "held", "held", "held"],
                "prk": "held",
                "frtrad": "tenir"
            },
            {
                "english": "hurt",
                "prs": ["hurt", "hurt", "hurts", "hurt", "hurt", "hurt"],
                "prt": ["hurt", "hurt", "hurt", "hurt", "hurt", "hurt"],
                "prk": "hurt",
                "frtrad": "faire mal (à), blesser"
            },
            {
                "english": "keep",
                "prs": ["keep", "keep", "keeps", "keep", "keep", "keep"],
                "prt": ["kept", "kept", "kept", "kept", "kept", "kept"],
                "prk": "kept",
                "frtrad": "garder"
            },
            {
                "english": "know",
                "prs": ["know", "know", "knows", "know", "know", "know"],
                "prt": ["knew", "knew", "knew", "knew", "knew", "knew"],
                "prk": "known",
                "frtrad": "savoir, connaître"
            },
            {
                "english": "lay",
                "prs": ["lay", "lay", "lays", "lay", "lay", "lay"],
                "prt": ["laid", "laid", "laid", "laid", "laid", "laid"],
                "prk": "laid",
                "frtrad": "poser, étendre"
            },
            {
                "english": "lead",
                "prs": ["lead", "lead", "leads", "lead", "lead", "lead"],
                "prt": ["led", "led", "led", "led", "led", "led"],
                "prk": "led",
                "frtrad": "conduire, mener"
            },
            {
                "english": "leave",
                "prs": ["leave", "leave", "leaves", "leave", "leave", "leave"],
                "prt": ["left", "left", "left", "left", "left", "left"],
                "prk": "left",
                "frtrad": "laisser, quitter"
            },
            {
                "english": "lend",
                "prs": ["lend", "lend", "lends", "lend", "lend", "lend"],
                "prt": ["lent", "lent", "lent", "lent", "lent", "lent"],
                "prk": "lent",
                "frtrad": "prêter"
            },
            {
                "english": "let",
                "prs": ["let", "let", "lets", "let", "let", "let"],
                "prt": ["let", "let", "let", "let", "let", "let"],
                "prk": "let",
                "frtrad": "laisser, permettre"
            },
            {
                "english": "lie",
                "prs": ["lie", "lie", "lies", "lie", "lie", "lie"],
                "prt": ["lay", "lay", "lay", "lay", "lay", "lay"],
                "prk": "lain",
                "frtrad": "être couché, étendu"
            },
            {
                "english": "lose",
                "prs": ["lose", "lose", "loses", "lose", "lose", "lose"],
                "prt": ["lost", "lost", "lost", "lost", "lost", "lost"],
                "prk": "lost",
                "frtrad": "perdre"
            },
            {
                "english": "make",
                "prs": ["make", "make", "makes", "make", "make", "make"],
                "prt": ["made", "made", "made", "made", "made", "made"],
                "prk": "made",
                "frtrad": "faire, fabriquer"
            },
            {
                "english": "mean",
                "prs": ["mean", "mean", "means", "mean", "mean", "mean"],
                "prt": ["meant", "meant", "meant", "meant", "meant", "meant"],
                "prk": "meant",
                "frtrad": "signifier, vouloir dire"
            },
            {
                "english": "meet",
                "prs": ["meet", "meet", "meets", "meet", "meet", "meet"],
                "prt": ["met", "met", "met", "met", "met", "met"],
                "prk": "met",
                "frtrad": "(se) rencontrer"
            },
            {
                "english": "pay",
                "prs": ["pay", "pay", "pays", "pay", "pay", "pay"],
                "prt": ["paid", "paid", "paid", "paid", "paid", "paid"],
                "prk": "paid",
                "frtrad": "payer"
            },
            {
                "english": "put",
                "prs": ["put", "put", "puts", "put", "put", "put"],
                "prt": ["put", "put", "put", "put", "put", "put"],
                "prk": "put",
                "frtrad": "mettre, poser"
            },
            {
                "english": "read",
                "prs": ["read", "read", "reads", "read", "read", "read"],
                "prt": ["read", "read", "read", "read", "read", "read"],
                "prk": "read",
                "frtrad": "lire"
            },
            {
                "english": "ride",
                "prs": ["ride", "ride", "rides", "ride", "ride", "ride"],
                "prt": ["rode", "rode", "rode", "rode", "rode", "rode"],
                "prk": "ridden",
                "frtrad": "faire du vélo, du cheval"
            },
            {
                "english": "ring",
                "prs": ["ring", "ring", "rings", "ring", "ring", "ring"],
                "prt": ["rang", "rang", "rang", "rang", "rang", "rang"],
                "prk": "rung",
                "frtrad": "sonner"
            },
            {
                "english": "rise",
                "prs": ["rise", "rise", "rises", "rise", "rise", "rise"],
                "prt": ["rose", "rose", "rose", "rose", "rose", "rose"],
                "prk": "risen",
                "frtrad": "s'élever, se lever (soleil)"
            },
            {
                "english": "run",
                "prs": ["run", "run", "runs", "run", "run", "run"],
                "prt": ["ran", "ran", "ran", "ran", "ran", "ran"],
                "prk": "run",
                "frtrad": "courir"
            },
            {
                "english": "say",
                "prs": ["say", "say", "says", "say", "say", "say"],
                "prt": ["said", "said", "said", "said", "said", "said"],
                "prk": "said",
                "frtrad": "dire"
            },
            {
                "english": "see",
                "prs": ["see", "see", "sees", "see", "see", "see"],
                "prt": ["saw", "saw", "saw", "saw", "saw", "saw"],
                "prk": "seen",
                "frtrad": "voir"
            },
            {
                "english": "sell",
                "prs": ["sell", "sell", "sells", "sell", "sell", "sell"],
                "prt": ["sold", "sold", "sold", "sold", "sold", "sold"],
                "prk": "sold",
                "frtrad": "vendre"
            },
            {
                "english": "send",
                "prs": ["send", "send", "sends", "send", "send", "send"],
                "prt": ["sent", "sent", "sent", "sent", "sent", "sent"],
                "prk": "sent",
                "frtrad": "envoyer"
            },
            {
                "english": "set",
                "prs": ["set", "set", "sets", "set", "set", "set"],
                "prt": ["set", "set", "set", "set", "set", "set"],
                "prk": "set",
                "frtrad": "poser, fixer"
            },
            {
                "english": "shake",
                "prs": ["shake", "shake", "shakes", "shake", "shake", "shake"],
                "prt": ["shook", "shook", "shook", "shook", "shook", "shook"],
                "prk": "shaken",
                "frtrad": "secouer"
            },
            {
                "english": "shine",
                "prs": ["shine", "shine", "shines", "shine", "shine", "shine"],
                "prt": ["shone", "shone", "shone", "shone", "shone", "shone"],
                "prk": "shone",
                "frtrad": "briller"
            },
            {
                "english": "shoot",
                "prs": ["shoot", "shoot", "shoots", "shoot", "shoot", "shoot"],
                "prt": ["shot", "shot", "shot", "shot", "shot", "shot"],
                "prk": "shot",
                "frtrad": "tirer (fusil)"
            },
            {
                "english": "show",
                "prs": ["show", "show", "shows", "show", "show", "show"],
                "prt": ["showed", "showed", "showed", "showed", "showed", "showed"],
                "prk": "shown",
                "frtrad": "montrer"
            },
            {
                "english": "shut",
                "prs": ["shut", "shut", "shuts", "shut", "shut", "shut"],
                "prt": ["shut", "shut", "shut", "shut", "shut", "shut"],
                "prk": "shut",
                "frtrad": "fermer"
            },
            {
                "english": "sing",
                "prs": ["sing", "sing", "sings", "sing", "sing", "sing"],
                "prt": ["sang", "sang", "sang", "sang", "sang", "sang"],
                "prk": "sung",
                "frtrad": "chanter"
            },
            {
                "english": "sink",
                "prs": ["sink", "sink", "sinks", "sink", "sink", "sink"],
                "prt": ["sank", "sank", "sank", "sank", "sank", "sank"],
                "prk": "sunk",
                "frtrad": "couler, sombrer"
            },
            {
                "english": "sit",
                "prs": ["sit", "sit", "sits", "sit", "sit", "sit"],
                "prt": ["sat", "sat", "sat", "sat", "sat", "sat"],
                "prk": "sat",
                "frtrad": "être assis"
            },
            {
                "english": "sleep",
                "prs": ["sleep", "sleep", "sleeps", "sleep", "sleep", "sleep"],
                "prt": ["slept", "slept", "slept", "slept", "slept", "slept"],
                "prk": "slept",
                "frtrad": "dormir"
            },
            {
                "english": "speak",
                "prs": ["speak", "speak", "speaks", "speak", "speak", "speak"],
                "prt": ["spoke", "spoke", "spoke", "spoke", "spoke", "spoke"],
                "prk": "spoken",
                "frtrad": "parler"
            },
            {
                "english": "spend",
                "prs": ["spend", "spend", "spends", "spend", "spend", "spend"],
                "prt": ["spent", "spent", "spent", "spent", "spent", "spent"],
                "prk": "spent",
                "frtrad": "passer (temps), dépenser"
            },
            {
                "english": "spread",
                "prs": ["spread", "spread", "spreads", "spread", "spread", "spread"],
                "prt": ["spread", "spread", "spread", "spread", "spread", "spread"],
                "prk": "spread",
                "frtrad": "(s') étaler, (se) répendre"
            },
            {
                "english": "stand",
                "prs": ["stand", "stand", "stands", "stand", "stand", "stand"],
                "prt": ["stood", "stood", "stood", "stood", "stood", "stood"],
                "prk": "stood",
                "frtrad": "être debout"
            },
            {
                "english": "steal",
                "prs": ["steal", "steal", "steals", "steal", "steal", "steal"],
                "prt": ["stole", "stole", "stole", "stole", "stole", "stole"],
                "prk": "stolen",
                "frtrad": "voler, dérober"
            },
            {
                "english": "stick",
                "prs": ["stick", "stick", "sticks", "stick", "stick", "stick"],
                "prt": ["stuck", "stuck", "stuck", "stuck", "stuck", "stuck"],
                "prk": "stuck",
                "frtrad": "coller, piquer, enfoncer"
            },
            {
                "english": "sting",
                "prs": ["sting", "sting", "stings", "sting", "sting", "sting"],
                "prt": ["stung", "stung", "stung", "stung", "stung", "stung"],
                "prk": "stung",
                "frtrad": "piquer (insectes)"
            },
            {
                "english": "strike",
                "prs": ["strike", "strike", "strikes", "strike", "strike", "strike"],
                "prt": ["struck", "struck", "struck", "struck", "struck", "struck"],
                "prk": "struck",
                "frtrad": "frapper"
            },
            {
                "english": "swear",
                "prs": ["swear", "swear", "swears", "swear", "swear", "swear"],
                "prt": ["swore", "swore", "swore", "swore", "swore", "swore"],
                "prk": "sworn",
                "frtrad": "jurer"
            },
            {
                "english": "sweep",
                "prs": ["sweep", "sweep", "sweeps", "sweep", "sweep", "sweep"],
                "prt": ["swept", "swept", "swept", "swept", "swept", "swept"],
                "prk": "swept",
                "frtrad": "balayer"
            },
            {
                "english": "swim",
                "prs": ["swim", "swim", "swims", "swim", "swim", "swim"],
                "prt": ["swam", "swam", "swam", "swam", "swam", "swam"],
                "prk": "swum",
                "frtrad": "nager"
            },
            {
                "english": "take",
                "prs": ["take", "take", "takes", "take", "take", "take"],
                "prt": ["took", "took", "took", "took", "took", "took"],
                "prk": "taken",
                "frtrad": "prendre"
            },
            {
                "english": "teach",
                "prs": ["teach", "teach", "teaches", "teach", "teach", "teach"],
                "prt": ["taught", "taught", "taught", "taught", "taught", "taught"],
                "prk": "taught",
                "frtrad": "enseigner, apprendre à qqun"
            },
            {
                "english": "tear",
                "prs": ["tear", "tear", "tears", "tear", "tear", "tear"],
                "prt": ["tore", "tore", "tore", "tore", "tore", "tore"],
                "prk": "torn",
                "frtrad": "déchirer"
            },
            {
                "english": "tell",
                "prs": ["tell", "tell", "tells", "tell", "tell", "tell"],
                "prt": ["told", "told", "told", "told", "told", "told"],
                "prk": "told",
                "frtrad": "dire à, raconter"
            },
            {
                "english": "think",
                "prs": ["think", "think", "thinks", "think", "think", "think"],
                "prt": ["thought", "thought", "thought", "thought", "thought", "thought"],
                "prk": "thought",
                "frtrad": "penser, réfléchir"
            },
            {
                "english": "throw",
                "prs": ["throw", "throw", "throws", "throw", "throw", "throw"],
                "prt": ["threw", "threw", "threw", "threw", "threw", "threw"],
                "prk": "thrown",
                "frtrad": "jeter, lancer"
            },
            {
                "english": "understand",
                "prs": ["understand", "understand", "understands", "understand", "understand", "understand"],
                "prt": ["understood", "understood", "understood", "understood", "understood", "understood"],
                "prk": "understood",
                "frtrad": "comprendre"
            },
            {
                "english": "wake",
                "prs": ["wake", "wake", "wakes", "wake", "wake", "wake"],
                "prt": ["woke", "woke", "woke", "woke", "woke", "woke"],
                "prk": "woken",
                "frtrad": "(se) réveiller"
            },
            {
                "english": "wear",
                "prs": ["wear", "wear", "wears", "wear", "wear", "wear"],
                "prt": ["wore", "wore", "wore", "wore", "wore", "wore"],
                "prk": "worn",
                "frtrad": "porter (vêtements)"
            },
            {
                "english": "win",
                "prs": ["win", "win", "wins", "win", "win", "win"],
                "prt": ["won", "won", "won", "won", "won", "won"],
                "prk": "won",
                "frtrad": "gagner"
            },
            {
                "english": "write",
                "prs": ["write", "write", "writes", "write", "write", "write"],
                "prt": ["wrote", "wrote", "wrote", "wrote", "wrote", "wrote"],
                "prk": "written",
                "frtrad": "écrire"
            }
        ];

        function createTableRow(verb) {
            let pronounIndex = Math.floor(Math.random() * pronouns.length);
            let pronoun = pronouns[pronounIndex];
            let present = verb.prs[pronounIndex];
            let past = verb.prt[pronounIndex];
            let auxiliary = verb.features && verb.features.aux === 'be' ? be[pronounIndex] : have[pronounIndex];
            let pastParticiple = `${auxiliary} ${verb.prk}`;

            if (verb.features && verb.features.hasReflect === 1) {
                present = verb.prs[pronounIndex].replace("myself", reflectors[pronounIndex]).replace("yourself", reflectors[pronounIndex]).replace("himself/herself/itself", reflectors[pronounIndex]).replace("ourselves", reflectors[pronounIndex]).replace("yourselves", reflectors[pronounIndex]).replace("themselves", reflectors[pronounIndex]);
                past = verb.prt[pronounIndex].replace("myself", reflectors[pronounIndex]).replace("yourself", reflectors[pronounIndex]).replace("himself/herself/itself", reflectors[pronounIndex]).replace("ourselves", reflectors[pronounIndex]).replace("yourselves", reflectors[pronounIndex]).replace("themselves", reflectors[pronounIndex]);
            }

            if (verb.features && verb.features.isInformal === 1) {
                pronoun = "it";
                present = verb.prs[0];
                past = verb.prt[0];
                pastParticiple = `${have[2]} ${verb.prk}`;
            }

            let rowData = [
                { english: verb.english, pronoun: pronoun },
                { prs: present },
                { prt: past },
                { prk: pastParticiple },
                { frtrad: verb.frtrad, pronoun: pronoun }
            ];

            if (pronounIndex === 3 || pronounIndex === 5 || pronounIndex === 2) {
                rowData = [
                    { english: verb.english, pronoun: pronoun },
                    { prs: present, pronoun: pronoun },
                    { prt: past, pronoun: pronoun },
                    { prk: pastParticiple, pronoun: pronoun },
                    { frtrad: verb.frtrad, pronoun: pronoun }
                ];
            }

            if (pronounIndex === 0) {
                rowData = [
                    { english: verb.english, pronoun: pronoun },
                    { prs: present },
                    { prt: past, pronoun: pronoun },
                    { prk: pastParticiple },
                    { frtrad: verb.frtrad, pronoun: pronoun }
                ];
            }

            if (pronounIndex === 4) {
                rowData = [
                    { english: verb.english, pronoun: pronoun },
                    { prs: present, pronoun: pronoun },
                    { prt: past },
                    { prk: pastParticiple },
                    { frtrad: verb.frtrad, pronoun: pronoun }
                ];
            }

            if (verb.prs.length === 1) {
                pronoun = "it";
                present = verb.prs[0];
                past = verb.prt[0];
                pastParticiple = verb.prk[0];
            }

            let cellToEmpty;
            if (pronounIndex === 0) {
                cellToEmpty = rowData[0];
            } else if (pronounIndex === 1) {
                cellToEmpty = rowData[1];
            } else if (pronounIndex === 2) {
                cellToEmpty = rowData[2];
            } else if (pronounIndex === 3) {
                cellToEmpty = rowData[3];
            } else if (pronounIndex === 4) {
                cellToEmpty = rowData[4];
            } else if (pronounIndex === 5) {
                cellToEmpty = rowData[5];
            }

            if (!cellToEmpty) {
                cellToEmpty = { english: verb.english, pronoun: pronoun };
            }

            let row = document.createElement("tr");
            row.innerHTML = `
                <td>${cellToEmpty.english || `<input type="text" data-answer="${verb.english}">`}</td>
                <td>${cellToEmpty.pronoun || `<input type="text" data-answer="${pronoun}" style="width:3em;">`}</td>
                <td>${cellToEmpty.prs || `<input type="text" data-answer="${present}">`}</td>
                <td>${cellToEmpty.prt || `<input type="text" data-answer="${past}">`}</td>
                <td>${cellToEmpty.prk || `<input type="text" data-answer="${pastParticiple}">`}</td>
                <td>${cellToEmpty.frtrad || `<input type="text" data-answer="${verb.frtrad}">`}</td>
            `;
            return row;
        }

        function startTraining() {
            let tableBody = document.querySelector("#verbTable tbody");
            tableBody.innerHTML = "";
            if (document.getElementById("viewSolutionsButton")) {
                document.getElementById("viewSolutionsButton").remove();
            }

            let numVerbs = document.getElementById("nb2verbes").value;
            let verbType = document.getElementById("type2verbes").value;
            let selectedVerbs = verbs;

            if (verbType === "regular") {
                selectedVerbs = verbs.filter(verb => !verb.features || verb.features.isIrreg !== 1);
            } else if (verbType === "irregular") {
                selectedVerbs = verbs.filter(verb => verb.features && verb.features.isIrreg === 1);
            } else {
                selectedVerbs = verbs.sort(() => 0.5 - Math.random()).slice(0, numVerbs);
            }

            let verbCount = 0;
            selectedVerbs.forEach(verb => {
                if (verbCount < numVerbs) {
                    let row = createTableRow(verb);
                    tableBody.appendChild(row);
                    verbCount++;
                }
            });
        }

        function checkAnswers() {
            document.querySelectorAll("input").forEach(input => {
                if (input.id === "nb2verbes") return;

                let userAnswer = normalizeString(input.value.trim());
                let correctAnswer = normalizeString(input.dataset.answer);

                if (correctAnswer === "er/sie/es" && (userAnswer === normalizeString("er") || userAnswer === normalizeString("sie") || userAnswer === normalizeString("es"))) {
                    markAsCorrect(input);
                } else if (compareAnswers(userAnswer, correctAnswer)) {
                    markAsCorrect(input);
                } else {
                    markAsIncorrect(input, input.dataset.answer);
                }
            });
            addSolutionsButton();
        }

        function normalizeString(str) {
            return str.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[()]/g, "").trim();
        }

        function compareAnswers(userAnswer, correctAnswer) {
            let correctAnswers = correctAnswer.split("/").map(answer => normalizeString(answer));
            return correctAnswers.includes(userAnswer);
        }

        function markAsCorrect(input) {
            input.classList.add("correct");
            if (input.nextSibling) {
                input.nextSibling.remove();
            }
        }

        function markAsIncorrect(input, correctAnswer) {
            input.classList.add("incorrect");
            if (!input.nextSibling) {
                let correction = document.createElement("span");
                correction.classList.add("correction");
                correction.innerHTML = `<br> Correct: ${correctAnswer}`;
                input.parentNode.appendChild(correction);
            }
        }

        function addSolutionsButton() {
            if (!document.getElementById("viewSolutionsButton")) {
                let button = document.createElement("button");
                button.id = "viewSolutionsButton";
                button.textContent = "View Solutions";
                button.onclick = showSolutions;
                document.body.appendChild(button);
            }
        }

        function showSolutions() {
            document.querySelectorAll("#verbTable tbody tr").forEach(row => {
                row.querySelectorAll("td").forEach(cell => {
                    let input = cell.querySelector("input");
                    if (input) {
                        let correctAnswer = input.dataset.answer;
                        cell.innerHTML = correctAnswer;
                    }
                });
            });
        }
    </script>
</body>
</html>
